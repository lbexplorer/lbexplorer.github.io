<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>知识图谱可视化</title><script src="https://cdn.jsdelivr.net/npm/d3@6"></script><style>body,html{width:100%;height:100%;margin:0;display:flex;justify-content:center;align-items:center;overflow:hidden}svg{width:100%;height:100%;border:1px solid #ccc}.nodes circle.movie{fill:blue;stroke:#fff;stroke-width:1.5px}.nodes circle.genre{fill:yellow;stroke:#fff;stroke-width:1.5px}.nodes text{font:12px sans-serif;fill:#333;pointer-events:none}.links line{stroke:#999;stroke-opacity:0.6;stroke-width:2px}</style></head><body><svg></svg><script>var svg=d3.select("svg"),width=window.innerWidth,height=window.innerHeight;svg.attr("width",width).attr("height",height);var simulation=d3.forceSimulation().force("link",d3.forceLink().id((t=>t.id)).distance(100)).force("charge",d3.forceManyBody().strength(-300)).force("center",d3.forceCenter(width/2,height/2));d3.json("transformed_data_d3.json").then((function(t){var e=svg.append("g").attr("class","links").selectAll("line").data(t.links).enter().append("line"),n=svg.append("g").attr("class","nodes").selectAll("g").data(t.nodes).enter().append("g");n.append("circle").attr("r",10).attr("class",(t=>"movie"===t.type?"movie":"genre")),n.append("text").text((t=>t.label)).attr("x",12).attr("y",3),n.call(d3.drag().on("start",(function(t,e){t.active||simulation.alphaTarget(.3).restart(),e.fx=e.x,e.fy=e.y})).on("drag",(function(t,e){e.fx=t.x,e.fy=t.y})).on("end",(function(t,e){t.active||simulation.alphaTarget(0),e.fx=null,e.fy=null}))),simulation.nodes(t.nodes).on("tick",(function(){e.attr("x1",(t=>t.source.x)).attr("y1",(t=>t.source.y)).attr("x2",(t=>t.target.x)).attr("y2",(t=>t.target.y)),n.attr("transform",(t=>`translate(${t.x},${t.y})`))})),simulation.force("link").links(t.links)})).catch((function(t){console.error("Error loading the data: "+t)}))</script></body></html>