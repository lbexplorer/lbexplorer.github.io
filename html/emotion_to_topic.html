<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><title>知识图谱可视化</title><script src="https://cdn.jsdelivr.net/npm/d3@6"></script><style>body,html{width:100%;height:100%;margin:0;overflow:hidden;display:flex;justify-content:center;align-items:center}svg{width:100%;height:100%;border:1px solid #ccc}.nodes circle.topic{fill:orange;stroke:#fff;stroke-width:1.5px}.nodes circle.review{fill:yellow;stroke:#fff;stroke-width:1.5px}.nodes text{font:12px sans-serif;fill:#333;pointer-events:none}.links line{stroke:#999;stroke-opacity:0.6;stroke-width:2px}</style></head><body><svg></svg><script>var svg=d3.select("svg"),width=window.innerWidth,height=window.innerHeight,simulation=d3.forceSimulation().force("link",d3.forceLink().id((function(t){return t.id})).distance(100).strength(1)).force("charge",d3.forceManyBody().strength(-500)).force("center",d3.forceCenter(width/2,height/2));d3.json("graph_data.json").then((function(t){var n=svg.append("g").attr("class","links").selectAll("line").data(t.links).enter().append("line"),e=svg.append("g").attr("class","nodes").selectAll("g").data(t.nodes).enter().append("g");e.append("circle").attr("r",10).attr("class",(function(t){return"Review"===t.label?"review":"topic"})),e.append("text").text((function(t){return"Review"===t.label?`${t.sentiment} - ${t.title}`:t.title})).attr("x",12).attr("y",3),e.call(d3.drag().on("start",(function(t,n){t.active||simulation.alphaTarget(.3).restart(),n.fx=n.x,n.fy=n.y})).on("drag",(function(t,n){n.fx=t.x,n.fy=t.y})).on("end",(function(t,n){t.active||simulation.alphaTarget(0),n.fx=null,n.fy=null}))),simulation.nodes(t.nodes).on("tick",(function(){n.attr("x1",(function(t){return t.source.x})).attr("y1",(function(t){return t.source.y})).attr("x2",(function(t){return t.target.x})).attr("y2",(function(t){return t.target.y})),e.attr("transform",(function(t){return"translate("+t.x+","+t.y+")"}))})),simulation.force("link").links(t.links)})).catch((function(t){console.error("Error loading the data: "+t)}))</script></body></html>